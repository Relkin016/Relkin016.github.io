//jQuery Cycle 2.9999
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(6(c,d){7 b="2.4p";4(c.22==d){c.22={1q:!(c.2u.3u)}}6 g(t){c.X.8.4E&&f(t)}6 f(){4U.2Y&&2Y.3H&&2Y.3H("[8] "+5a.5v.5p.3X(4w," "))}c.5s[":"].39=6(t){1a t.1z};c.X.8=6(u,t){7 v={s:14.3B,c:14.52};4(14.1g===0&&u!="2C"){4(!c.3P&&v.s){f("45 1C 49, 4M 2J");c(6(){c(v.s,v.c).8(u,t)});1a 14}f("2P; 5h 1K 2N 5x 3B"+(c.3P?"":" (45 1C 49)"));1a 14}1a 14.1v(6(){7 z=l(14,u,t);4(z===1b){1a}z.26=z.26||c.X.8.26;4(14.1s){2f(14.1s)}14.1s=14.1z=0;7 A=c(14);7 B=z.33?c(z.33,14):A.3x();7 x=B.4s();7 w=r(A,B,x,z,v);4(w===1b){1a}4(x.1g<2){f("2P; 4I 4Y 5e: "+x.1g);1a}7 y=w.2l?10:m(x[w.1o],x[w.1j],w,!w.1D);4(y){y+=(w.3E||0);4(y<10){y=10}g("4A 1P: "+y);14.1s=2y(6(){n(x,w,0,!z.1D)},y)}})};6 k(t,w,v){7 x=c(t).1V("8.2b");7 u=!!t.1z;4(u&&x.39){x.39(t,x,w,v)}1e{4(!u&&x.3T){x.3T(t,x,w,v)}}}6 l(t,w,u){4(t.1Y==d){t.1Y=0}4(w===d||w===1n){w={}}4(w.3d==3L){4Q(w){2d"2F":2d"2C":7 y=c(t).1V("8.2b");4(!y){1a 1b}t.1Y++;4(t.1s){2f(t.1s)}t.1s=0;y.1K&&c(y.1K).2C();c(t).5l("8.2b");4(w=="2F"){s(y)}1a 1b;2d"56":t.1z=(t.1z===1)?0:1;x(t.1z,u,t);k(t);1a 1b;2d"3h":t.1z=1;k(t);1a 1b;2d"40":t.1z=0;x(1b,u,t);k(t);1a 1b;2d"1Z":2d"21":7 y=c(t).1V("8.2b");4(!y){f(\'3l 1C 2N, "1Z/21" 4q\');1a 1b}c.X.8[w](y);1a 1b;5q:w={1u:w}}1a w}1e{4(w.3d==5c){7 v=w;w=c(t).1V("8.2b");4(!w){f("3l 1C 2N, 3v 1C 5t 31");1a 1b}4(v<0||v>=w.1K.1g){f("4W 31 2n: "+v);1a 1b}w.1j=v;4(t.1s){2f(t.1s);t.1s=0}4(3r u=="5n"){w.2w=u}n(w.1K,w,1,v>=w.1o);1a 1b}}1a w;6 x(A,B,z){4(!A&&B===18){7 C=c(z).1V("8.2b");4(!C){f("3l 1C 2N, 3v 1C 40");1a 1b}4(z.1s){2f(z.1s);z.1s=0}n(C.1K,C,1,!C.1D)}}}6 e(t,u){4(!c.22.1q&&u.2s&&t.3J.3Y){4G{t.3J.54("3Y")}5j(v){}}}6 s(t){4(t.21){c(t.21).3j(t.2t)}4(t.1Z){c(t.1Z).3j(t.2t)}4(t.1W||t.24){c.1v(t.2q||[],6(){14.3j().4y()})}t.2q=1n;4(t.2F){t.2F(t)}}6 r(D,R,A,z,K){7 t;7 I=c.1x({},c.X.8.3C,z||{},c.47?D.47():c.4O?D.1V():{});7 G=c.1S(D.1V)?D.1V(I.3R):1n;4(G){I=c.1x(I,G)}4(I.3b){I.3t=I.3s||A.1g}7 v=D[0];D.1V("8.2b",I);I.$2c=D;I.2L=v.1Y;I.1K=A;I.1i=I.1i?[I.1i]:[];I.1A=I.1A?[I.1A]:[];4(!c.22.1q&&I.2s){I.1A.1f(6(){e(14,I)})}4(I.2l){I.1A.1f(6(){n(A,I,0,!I.1D)})}i(I);4(!c.22.1q&&I.2s&&!I.3n){a(R)}4(D.1h("2A")=="4u"){D.1h("2A","50")}4(I.11){D.11(I.11)}4(I.Z&&I.Z!="2T"){D.Z(I.Z)}4(I.1t!=d){I.1t=1y(I.1t,10);4(I.1t>=A.1g||I.4K<0){I.1t=0}1e{t=18}}1e{4(I.1D){I.1t=A.1g-1}1e{I.1t=0}}4(I.1E){I.1N=[];1R(7 P=0;P<A.1g;P++){I.1N.1f(P)}I.1N.36(6(T,w){1a 29.1E()-0.5});4(t){1R(7 N=0;N<A.1g;N++){4(I.1t==I.1N[N]){I.1B=N}}}1e{I.1B=1;I.1t=I.1N[1]}}1e{4(I.1t>=A.1g){I.1t=0}}I.1o=I.1t||0;7 C=I.1t;R.1h({2A:"3z",12:0,Y:0}).2e().1v(6(w){7 T;4(I.1D){T=C?w<=C?A.1g+(w-C):C-w:A.1g-w}1e{T=C?w>=C?A.1g-(w-C):C-w:A.1g-w}c(14).1h("z-2n",T)});c(A[C]).1h("1q",1).2V();e(A[C],I);4(I.1U){4(!I.2r){4(I.11){R.11(I.11)}4(I.Z&&I.Z!="2T"){R.Z(I.Z)}}1e{R.1v(6(){7 T=c(14);7 w=(I.2r===18)?T.11()/T.Z():I.2r;4(I.11&&T.11()!=I.11){T.11(I.11);T.Z(I.11/w)}4(I.Z&&T.Z()<I.Z){T.Z(I.Z);T.11(I.Z*w)}})}}4(I.3f&&((!I.1U)||I.2r)){R.1v(6(){7 w=c(14);w.1h({"2H-Y":I.11?((I.11-w.11())/2)+"1r":0,"2H-12":I.Z?((I.Z-w.Z())/2)+"1r":0})})}4(I.3f&&!I.1U&&!I.2X){R.1v(6(){7 w=c(14);w.1h({"2H-Y":I.11?((I.11-w.11())/2)+"1r":0,"2H-12":I.Z?((I.Z-w.Z())/2)+"1r":0})})}7 J=I.3V&&!D.4C();4(J){7 B=0,H=0;1R(7 M=0;M<A.1g;M++){7 u=c(A[M]),S=u[0],F=u.58(),Q=u.4S();4(!F){F=S.3N||S.11||u.2R("11")}4(!Q){Q=S.4b||S.Z||u.2R("Z")}B=F>B?F:B;H=Q>H?Q:H}4(B>0&&H>0){D.1h({11:B+"1r",Z:H+"1r"})}}7 y=1b;4(I.3h){D.3p(6(){y=18;14.1z++;k(v,18)},6(){y&&14.1z--;k(v,18)})}4(o(I)===1b){1a 1b}7 x=1b;z.2W=z.2W||0;R.1v(6(){7 V=c(14);14.1k=(I.1U&&I.Z)?I.Z:(V.Z()||14.4b||14.Z||V.2R("Z")||0);14.1l=(I.1U&&I.11)?I.11:(V.11()||14.3N||14.11||V.2R("11")||0);4(V.5g("43")){7 T=(c.2u.3u&&14.1l==28&&14.1k==30&&!14.2v);7 W=(c.2u.5b&&14.1l==34&&14.1k==19&&!14.2v);7 U=(c.2u.4V&&((14.1l==42&&14.1k==19)||(14.1l==37&&14.1k==17))&&!14.2v);7 w=(14.1k==0&&14.1l==0&&!14.2v);4(T||W||U||w){4(K.s&&I.3I&&++z.2W<4F){f(z.2W," - 43 31 1C 5E, 5i 2J: ",14.4d,14.1l,14.1k);2y(6(){c(K.s,K.c).8(z)},I.4j);x=18;1a 1b}1e{f("53 1C 5L 5W 5w 5S: "+14.4d,14.1l,14.1k)}}}1a 18});4(x){1a 1b}I.9=I.9||{};I.1H=I.1H||{};I.1J=I.1J||{};I.1d=I.1d||{};I.1c=I.1c||{};R.1C(":2D("+C+")").1h(I.9);c(R[C]).1h(I.1J);4(I.1P){I.1P=1y(I.1P,10);4(I.1w.3d==3L){I.1w=c.1u.4x[I.1w]||1y(I.1w,10)}4(!I.2O){I.1w=I.1w/2}7 L=I.1u=="2m"?0:I.1u=="23"?4N:2Z;3Q((I.1P-I.1w)<L){I.1P+=I.1w}}4(I.3a){I.2K=I.2S=I.3a}4(!I.2g){I.2g=I.1w}4(!I.2k){I.2k=I.1w}I.1Q=A.1g;I.1o=I.3i=C;4(I.1E){4(++I.1B==A.1g){I.1B=0}I.1j=I.1N[I.1B]}1e{4(I.1D){I.1j=I.1t==0?(A.1g-1):I.1t-1}1e{I.1j=I.1t>=(A.1g-1)?0:I.1t+1}}4(!I.2j){7 O=c.X.8.1m[I.1u];4(c.1S(O)){O(D,R,I)}1e{4(I.1u!="3o"&&!I.2j){f("46 2z: "+I.1u,"; 2J 2P");1a 1b}}}7 E=R[C];4(!I.3y){4(I.1i.1g){I.1i[0].2Q(E,[E,E,I,18])}4(I.1A.1g){I.1A[0].2Q(E,[E,E,I,18])}}4(I.21){c(I.21).2U(I.2t,6(){1a h(I,1)})}4(I.1Z){c(I.1Z).2U(I.2t,6(){1a h(I,0)})}4(I.1W||I.24){q(A,I)}j(I,A);1a I}6 i(t){t.1I={1i:[],1A:[]};t.1I.9=c.1x({},t.9);t.1I.1H=c.1x({},t.1H);t.1I.1d=c.1x({},t.1d);t.1I.1c=c.1x({},t.1c);c.1v(t.1i,6(){t.1I.1i.1f(14)});c.1v(t.1A,6(){t.1I.1A.1f(14)})}6 o(z){7 x,v,u=c.X.8.1m;4(z.1u.41(",")>0){z.2j=18;z.1G=z.1u.4t(/\\s*/g,"").4J(",");1R(x=0;x<z.1G.1g;x++){7 y=z.1G[x];v=u[y];4(!v||!u.3M(y)||!c.1S(v)){f("5C 46 2z: ",y);z.1G.4l(x,1);x--}}4(!z.1G.1g){f("5f 5Q 1m 4Z; 2J 2P.");1a 1b}}1e{4(z.1u=="5J"){z.2j=18;z.1G=[];1R(p 4f u){v=u[p];4(u.3M(p)&&c.1S(v)){z.1G.1f(p)}}}}4(z.2j&&z.4n){7 w=29.4o(29.1E()*20)+30;1R(x=0;x<w;x++){7 t=29.4o(29.1E()*z.1G.1g);z.1G.1f(z.1G.4l(t,1)[0])}g("4B 1u 5z: ",z.1G)}1a 18}6 j(u,t){u.5N=6(w,x){7 v=c(w),y=v[0];4(!u.3s){u.3t++}t[x?"35":"1f"](y);4(u.1L){u.1L[x?"35":"1f"](y)}u.1Q=t.1g;4(u.1E){u.1N.1f(u.1Q-1);u.1N.36(6(A,z){1a 29.1E()-0.5})}v.1h("2A","3z");v[x?"57":"3F"](u.$2c);4(x){u.1o++;u.1j++}4(!c.22.1q&&u.2s&&!u.3n){a(v)}4(u.1U&&u.11){v.11(u.11)}4(u.1U&&u.Z&&u.Z!="2T"){v.Z(u.Z)}y.1k=(u.1U&&u.Z)?u.Z:v.Z();y.1l=(u.1U&&u.11)?u.11:v.11();v.1h(u.9);4(u.1W||u.24){c.X.8.3k(t.1g-1,y,c(u.1W),t,u)}4(c.1S(u.4m)){u.4m(v)}1e{v.2e()}}}c.X.8.4a=6(u,t){t=t||u.1u;u.1i=[];u.1A=[];u.9=c.1x({},u.1I.9);u.1H=c.1x({},u.1I.1H);u.1d=c.1x({},u.1I.1d);u.1c=c.1x({},u.1I.1c);u.2i=1n;c.1v(u.1I.1i,6(){u.1i.1f(14)});c.1v(u.1I.1A,6(){u.1A.1f(14)});7 v=c.X.8.1m[t];4(c.1S(v)){v(u.$2c,c(u.1K),u)}};6 n(z,t,y,B){4(y&&t.2p&&t.3e){g("3e 4f 4R(), 5Y 3U 2z");c(z).2C(18,18);t.2p=0}4(t.2p){g("2z 3U, 5G 60 4h 5m");1a}7 w=t.$2c[0],E=z[t.1o],C=z[t.1j];4(w.1Y!=t.2L||w.1s===0&&!y){1a}4(!y&&!w.1z&&!t.3m&&((t.3b&&(--t.3t<=0))||(t.2G&&!t.1E&&t.1j<t.1o))){4(t.3q){t.3q(t)}1a}7 A=1b;4((y||!w.1z)&&(t.1j!=t.1o)){A=18;7 x=t.1u;E.1k=E.1k||c(E).Z();E.1l=E.1l||c(E).11();C.1k=C.1k||c(C).Z();C.1l=C.1l||c(C).11();4(t.2j){4(B&&(t.27==d||++t.27>=t.1G.1g)){t.27=0}1e{4(!B&&(t.27==d||--t.27<0)){t.27=t.1G.1g-1}}x=t.1G[t.27]}4(t.2w){x=t.2w;t.2w=1n}c.X.8.4a(t,x);4(t.1i.1g){c.1v(t.1i,6(F,G){4(w.1Y!=t.2L){1a}G.2Q(C,[E,C,t,B])})}7 u=6(){t.2p=0;c.1v(t.1A,6(F,G){4(w.1Y!=t.2L){1a}G.2Q(C,[E,C,t,B])});4(!w.1Y){D()}};g("4h 5U("+x+"); 1o: "+t.1o+"; 1j: "+t.1j);t.2p=1;4(t.2i){t.2i(E,C,t,u,B,y&&t.2x)}1e{4(c.1S(c.X.8[t.1u])){c.X.8[t.1u](E,C,t,u,B,y&&t.2x)}1e{c.X.8.3o(E,C,t,u,B,y&&t.2x)}}}1e{D()}4(A||t.1j==t.1o){t.3i=t.1o;4(t.1E){t.1o=t.1j;4(++t.1B==z.1g){t.1B=0;t.1N.36(6(G,F){1a 29.1E()-0.5})}t.1j=t.1N[t.1B];4(t.1j==t.1o){t.1j=(t.1o==t.1Q-1)?0:t.1o+1}}1e{4(t.1D){7 v=(t.1j-1)<0;4(v&&t.3m){t.1D=!t.1D;t.1j=1;t.1o=0}1e{t.1j=v?(z.1g-1):t.1j-1;t.1o=v?0:t.1j+1}}1e{7 v=(t.1j+1)==z.1g;4(v&&t.3m){t.1D=!t.1D;t.1j=z.1g-2;t.1o=z.1g-1}1e{t.1j=v?0:t.1j+1;t.1o=v?z.1g-1:t.1j-1}}}}4(A&&t.1W){t.26(t.1W,t.1o,t.32)}6 D(){7 F=0,G=t.1P;4(t.1P&&!t.2l){F=m(z[t.1o],z[t.1j],t,B);4(t.1u=="23"){F-=t.2k}}1e{4(t.2l&&w.1z){F=10}}4(F>0){w.1s=2y(6(){n(z,t,0,!t.1D)},F)}}}c.X.8.26=6(t,v,u){c(t).1v(6(){c(14).3x().4r(u).2D(v).5r(u)})};6 m(y,w,x,v){4(x.3c){7 u=x.3c.3X(y,y,w,x,v);3Q(x.1u!="2m"&&(u-x.1w)<2Z){u+=x.1w}g("5X 1P: "+u+"; 1w: "+x.1w);4(u!==1b){1a u}}1a x.1P}c.X.8.21=6(t){h(t,1)};c.X.8.1Z=6(t){h(t,0)};6 h(w,v){7 z=v?1:-1;7 u=w.1K;7 y=w.$2c[0],x=y.1s;4(x){2f(x);y.1s=0}4(w.1E&&z<0){w.1B--;4(--w.1B==-2){w.1B=u.1g-2}1e{4(w.1B==-1){w.1B=u.1g-1}}w.1j=w.1N[w.1B]}1e{4(w.1E){w.1j=w.1N[w.1B]}1e{w.1j=w.1o+z;4(w.1j<0){4(w.2G){1a 1b}w.1j=u.1g-1}1e{4(w.1j>=u.1g){4(w.2G){1a 1b}w.1j=0}}}}7 t=w.3w||w.4X;4(c.1S(t)){t(z>0,w.1j,u[w.1j])}n(u,w,1,v);1a 1b}6 q(u,v){7 t=c(v.1W);c.1v(u,6(w,x){c.X.8.3k(w,x,t,u,v)});v.26(v.1W,v.1t,v.32)}c.X.8.3k=6(y,v,A,x,u){7 B;4(c.1S(u.24)){B=u.24(y,v);g("24("+y+", 5I) 66: "+B)}1e{B=\'<a 6d="#">\'+(y+1)+"</a>"}4(!B){1a}7 w=c(B);4(w.6l("4H").1g===0){7 z=[];4(A.1g>1){A.1v(6(){7 E=w.62(18);c(14).6h(E);z.1f(E[0])});w=c(z)}1e{w.3F(A)}}u.2q=u.2q||[];u.2q.1f(w);7 C=6(H){H.5B();u.1j=y;7 G=u.$2c[0],F=G.1s;4(F){2f(F);G.1s=0}7 E=u.3K||u.6a;4(c.1S(E)){E(u.1j,x[u.1j])}n(x,u,1,u.1o<y)};4(/5d|5P/i.25(u.2I)){w.3p(C,6(){})}1e{w.2U(u.2I,C)}4(!/^2M/.25(u.2I)&&!u.3Z){w.2U("2M.8",6(){1a 1b})}7 D=u.$2c[0];7 t=1b;4(u.4e){w.3p(6(){t=18;D.1z++;k(D,18,18)},6(){t&&D.1z--;k(D,18,18)})}};c.X.8.3D=6(w,v){7 u,t=w.3i,x=w.1o;4(v){u=x>t?x-t:w.1Q-t}1e{u=x<t?t-x:t+w.1Q-x}1a u};6 a(v){g("4z 5y 38-3g 55");6 u(w){w=1y(w,10).5M(16);1a w.1g<2?"0"+w:w}6 t(y){1R(;y&&y.68.6f()!="6j";y=y.6n){7 w=c.1h(y,"38-3g");4(w&&w.41("4P")>=0){7 x=w.3S(/\\d+/g);1a"#"+u(x[0])+u(x[1])+u(x[2])}4(w&&w!="64"){1a w}}1a"#5F"}v.1v(6(){c(14).1h("38-3g",t(14))})}c.X.8.1p=6(z,x,y,u,v,t){c(y.1K).1C(z).2e();4(3r y.9.1q=="6c"){y.9.1q=1}y.9.1X="2h";4(y.2X&&u!==1b&&x.1l>0){y.9.11=x.1l}4(y.2X&&v!==1b&&x.1k>0){y.9.Z=x.1k}y.1H=y.1H||{};y.1H.1X="2m";c(z).1h("2o",y.1Q+(t===18?1:0));c(x).1h("2o",y.1Q+(t===18?0:1))};c.X.8.3o=6(F,z,t,w,y,u){7 E=c(F),A=c(z);7 v=t.2g,D=t.2k,x=t.2K,C=t.2S;A.1h(t.9);4(u){4(3r u=="5k"){v=D=u}1e{v=D=1}x=C=1n}7 B=6(){A.2E(t.1d,v,x,6(){w()})};E.2E(t.1c,D,C,6(){E.1h(t.1H);4(!t.2O){B()}});4(t.2O){B()}};c.X.8.1m={48:6(u,v,t){v.1C(":2D("+t.1o+")").1h("1q",0);t.1i.1f(6(y,w,x){c.X.8.1p(y,w,x);x.9.1q=0});t.1d={1q:1};t.1c={1q:0};t.9={12:0,Y:0}}};c.X.8.5T=6(){1a b};c.X.8.3C={32:"4v",1A:1n,3Z:1b,1d:1n,1c:1n,2r:1b,3b:0,3s:0,1D:1b,1i:1n,3f:1n,2s:!c.22.1q,3n:1b,3V:1,2l:0,1H:1n,9:1n,3E:0,2K:1n,2S:1n,3a:1n,3q:1n,2x:0,1U:0,1u:"48",2i:1n,Z:"2T",3e:18,3R:"8",21:1n,2G:0,3K:1n,3w:1n,1W:1n,24:1n,2I:"2M.8",3h:0,4e:0,1Z:1n,2t:"2M.8",1E:0,4n:1,3I:18,4j:2Z,2B:0,23:1n,3y:1b,33:1n,2X:1,1w:5Z,2g:1n,2k:1n,1t:d,2O:1,1P:5u,3c:1n,26:1n,11:1n}})(3A);(6(a){a.X.8.1m.2m=6(c,d,b){b.2i=6(g,e,f,h){a(e).2V();a(g).2e();h()}};a.X.8.1m.6e=6(c,d,b){d.1C(":2D("+b.1o+")").1h({1X:"2h",1q:1});b.1i.1f(6(k,i,j,f,g,e){a(k).1h("2o",j.1Q+(!e===18?1:0));a(i).1h("2o",j.1Q+(!e===18?0:1))});b.1d.1q=1;b.1c.1q=0;b.9.1q=1;b.9.1X="2h";b.1H.2o=0};a.X.8.1m.51=6(d,e,c){d.1h("1F","1M");c.1i.1f(a.X.8.1p);7 b=d.Z();c.9.12=b;c.9.Y=0;c.1J.12=0;c.1d.12=0;c.1c.12=-b};a.X.8.1m.5K=6(d,e,c){d.1h("1F","1M");c.1i.1f(a.X.8.1p);7 b=d.Z();c.1J.12=0;c.9.12=-b;c.9.Y=0;c.1d.12=0;c.1c.12=b};a.X.8.1m.67=6(d,e,c){d.1h("1F","1M");c.1i.1f(a.X.8.1p);7 b=d.11();c.1J.Y=0;c.9.Y=b;c.9.12=0;c.1d.Y=0;c.1c.Y=0-b};a.X.8.1m.6m=6(d,e,c){d.1h("1F","1M");c.1i.1f(a.X.8.1p);7 b=d.11();c.1J.Y=0;c.9.Y=-b;c.9.12=0;c.1d.Y=0;c.1c.Y=b};a.X.8.1m.4L=6(c,d,b){c.1h("1F","1M").11();b.1i.1f(6(h,f,g,e){4(g.2B){e=!e}a.X.8.1p(h,f,g);g.9.Y=e?(f.1l-1):(1-f.1l);g.1c.Y=e?-h.1l:h.1l});b.1J.Y=0;b.9.12=0;b.1d.Y=0;b.1c.12=0};a.X.8.1m.63=6(c,d,b){c.1h("1F","1M");b.1i.1f(6(h,f,g,e){4(g.2B){e=!e}a.X.8.1p(h,f,g);g.9.12=e?(1-f.1k):(f.1k-1);g.1c.12=e?h.1k:-h.1k});b.1J.12=0;b.9.Y=0;b.1d.12=0;b.1c.Y=0};a.X.8.1m.6i=6(c,d,b){b.1i.1f(6(g,e,f){a(f.1K).1C(g).2e();a.X.8.1p(g,e,f,1b,18);f.1d.11=e.1l});b.9.Y=0;b.9.12=0;b.9.11=0;b.1d.11="2V";b.1c.11=0};a.X.8.1m.5D=6(c,d,b){b.1i.1f(6(g,e,f){a(f.1K).1C(g).2e();a.X.8.1p(g,e,f,18,1b);f.1d.Z=e.1k});b.9.Y=0;b.9.12=0;b.9.Z=0;b.1d.Z="2V";b.1c.Z=0};a.X.8.1m.23=6(e,f,d){7 c,b=e.1h("1F","3O").11();f.1h({Y:0,12:0});d.1i.1f(6(i,g,h){a.X.8.1p(i,g,h,18,18,18)});4(!d.4g){d.1w=d.1w/2;d.4g=18}d.1E=0;d.23=d.23||{Y:-b,12:15};d.1L=[];1R(c=0;c<f.1g;c++){d.1L.1f(f[c])}1R(c=0;c<d.1o;c++){d.1L.1f(d.1L.44())}d.2i=6(m,j,l,g,i){4(l.2B){i=!i}7 h=i?a(m):a(j);a(j).1h(l.9);7 k=l.1Q;h.2E(l.23,l.2g,l.2K,6(){7 o=a.X.8.3D(l,i);1R(7 q=0;q<o;q++){i?l.1L.1f(l.1L.44()):l.1L.35(l.1L.5R())}4(i){1R(7 r=0,n=l.1L.1g;r<n;r++){a(l.1L[r]).1h("z-2n",n-r+k)}}1e{7 s=a(m).1h("z-2n");h.1h("z-2n",1y(s,10)+1+k)}h.2E({Y:0,12:0},l.2k,l.2S,6(){a(i?14:m).2e();4(g){g()}})})};a.1x(d.9,{1X:"2h",1q:1,12:0,Y:0})};a.X.8.1m.6b=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,18,1b);f.9.12=e.1k;f.1d.Z=e.1k;f.1c.11=e.1l});b.1J.12=0;b.9.Y=0;b.9.Z=0;b.1d.12=0;b.1c.Z=0};a.X.8.1m.6p=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,18,1b);f.1d.Z=e.1k;f.1c.12=g.1k});b.1J.12=0;b.9.Y=0;b.9.12=0;b.9.Z=0;b.1c.Z=0};a.X.8.1m.6r=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,1b,18);f.9.Y=e.1l;f.1d.11=e.1l});b.9.12=0;b.9.11=0;b.1d.Y=0;b.1c.11=0};a.X.8.1m.6t=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,1b,18);f.1d.11=e.1l;f.1c.Y=g.1l});a.1x(b.9,{12:0,Y:0,11:0});b.1d.Y=0;b.1c.11=0};a.X.8.1m.3G=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,1b,1b,18);f.9.12=e.1k/2;f.9.Y=e.1l/2;a.1x(f.1d,{12:0,Y:0,11:e.1l,Z:e.1k});a.1x(f.1c,{11:0,Z:0,12:g.1k/2,Y:g.1l/2})});b.1J.12=0;b.1J.Y=0;b.9.11=0;b.9.Z=0};a.X.8.1m.4D=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,1b,1b);f.9.Y=e.1l/2;f.9.12=e.1k/2;a.1x(f.1d,{12:0,Y:0,11:e.1l,Z:e.1k})});b.9.11=0;b.9.Z=0;b.1c.1q=0};a.X.8.1m.5A=6(d,e,c){7 b=d.1h("1F","1M").11();c.1i.1f(6(h,f,g){a.X.8.1p(h,f,g);g.1d.11=f.1l;g.1c.Y=h.1l});c.9.Y=b;c.9.12=0;c.1d.Y=0;c.1c.Y=b};a.X.8.1m.61=6(d,e,c){7 b=d.1h("1F","1M").Z();c.1i.1f(6(h,f,g){a.X.8.1p(h,f,g);g.1d.Z=f.1k;g.1c.12=h.1k});c.9.12=b;c.9.Y=0;c.1d.12=0;c.1c.12=b};a.X.8.1m.6g=6(e,f,d){7 c=e.1h("1F","1M").Z();7 b=e.11();d.1i.1f(6(i,g,h){a.X.8.1p(i,g,h);h.1d.Z=g.1k;h.1c.12=i.1k});d.9.12=c;d.9.Y=b;d.1d.12=0;d.1d.Y=0;d.1c.12=c;d.1c.Y=b};a.X.8.1m.6s=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,1b,18);f.9.Y=14.1l/2;f.1d.Y=0;f.1d.11=14.1l;f.1c.Y=0});b.9.12=0;b.9.11=0};a.X.8.1m.59=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,18,1b);f.9.12=14.1k/2;f.1d.12=0;f.1d.Z=14.1k;f.1c.12=0});b.9.Z=0;b.9.Y=0};a.X.8.1m.69=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,1b,18,18);f.9.Y=e.1l/2;f.1d.Y=0;f.1d.11=14.1l;f.1c.Y=g.1l/2;f.1c.11=0});b.9.12=0;b.9.11=0};a.X.8.1m.6o=6(c,d,b){b.1i.1f(6(g,e,f){a.X.8.1p(g,e,f,18,1b,18);f.9.12=e.1k/2;f.1d.12=0;f.1d.Z=e.1k;f.1c.12=g.1k/2;f.1c.Z=0});b.9.Z=0;b.9.Y=0};a.X.8.1m.5O=6(f,g,e){7 i=e.4c||"Y";7 b=f.1h("1F","1M").11();7 c=f.Z();e.1i.1f(6(j,d,h){a.X.8.1p(j,d,h);4(i=="4i"){h.9.Y=-b}1e{4(i=="4k"){h.9.12=c}1e{4(i=="3W"){h.9.12=-c}1e{h.9.Y=b}}}});e.1d.Y=0;e.1d.12=0;e.9.12=0;e.9.Y=0};a.X.8.1m.4T=6(f,g,e){7 i=e.4c||"Y";7 b=f.1h("1F","1M").11();7 c=f.Z();e.1i.1f(6(j,d,h){a.X.8.1p(j,d,h,18,18,18);4(i=="4i"){h.1c.Y=b}1e{4(i=="4k"){h.1c.12=-c}1e{4(i=="3W"){h.1c.12=c}1e{h.1c.Y=-b}}}});e.1d.Y=0;e.1d.12=0;e.9.12=0;e.9.Y=0};a.X.8.1m.65=6(e,f,d){7 b=e.1h("1F","3O").11();7 c=e.Z();d.1i.1f(6(i,g,h){a.X.8.1p(i,g,h,18,18,18);4(!h.1c.Y&&!h.1c.12){a.1x(h.1c,{Y:b*2,12:-c/2,1q:0})}1e{h.1c.1q=0}});d.9.Y=0;d.9.12=0;d.1d.Y=0};a.X.8.1m.5H=6(s,m,e){7 q=s.1h("1F","1M").11();7 j=s.Z();e.9=e.9||{};7 g;4(e.1T){4(/6k/.25(e.1T)){g="2a(1O 1O "+j+"1r 1O)"}1e{4(/5o/.25(e.1T)){g="2a(1O "+q+"1r "+j+"1r "+q+"1r)"}1e{4(/5V/.25(e.1T)){g="2a(1O "+q+"1r 1O 1O)"}1e{4(/6q/.25(e.1T)){g="2a("+j+"1r "+q+"1r "+j+"1r 1O)"}1e{4(/3G/.25(e.1T)){7 o=1y(j/2,10);7 f=1y(q/2,10);g="2a("+o+"1r "+f+"1r "+o+"1r "+f+"1r)"}}}}}}e.9.1T=e.9.1T||g||"2a(1O 1O 1O 1O)";7 k=e.9.1T.3S(/(\\d+)/g);7 u=1y(k[0],10),c=1y(k[1],10),n=1y(k[2],10),i=1y(k[3],10);e.1i.1f(6(w,h,t){4(w==h){1a}7 d=a(w),b=a(h);a.X.8.1p(w,h,t,18,18,1b);t.1H.1X="2h";7 r=1,l=1y((t.2g/13),10)-1;(6 v(){7 y=u?u-1y(r*(u/l),10):0;7 z=i?i-1y(r*(i/l),10):0;7 A=n<j?n+1y(r*((j-n)/l||1),10):j;7 x=c<q?c+1y(r*((q-c)/l||1),10):q;b.1h({1T:"2a("+y+"1r "+x+"1r "+A+"1r "+z+"1r)"});(r++<=l)?2y(v,13):d.1h("1X","2m")})()});a.1x(e.9,{1X:"2h",1q:1,12:0,Y:0});e.1d={Y:0};e.1c={Y:0}}})(3A);',62,402,'||||if||function|var|cycle|cssBefore||||||||||||||||||||||||||||||||||||||||||||||||||fn|left|height||width|top||this||||true||return|false|animOut|animIn|else|push|length|css|before|nextSlide|cycleH|cycleW|transitions|null|currSlide|commonReset|opacity|px|cycleTimeout|startingSlide|fx|each|speed|extend|parseInt|cyclePause|after|randomIndex|not|backwards|random|overflow|fxs|cssAfter|original|cssFirst|elements|els|hidden|randomMap|0px|timeout|slideCount|for|isFunction|clip|fit|data|pager|display|cycleStop|prev||next|support|shuffle|pagerAnchorBuilder|test|updateActivePagerLink|lastFx||Math|rect|opts|cont|case|hide|clearTimeout|speedIn|block|fxFn|multiFx|speedOut|continuous|none|index|zIndex|busy|pagerAnchors|aspect|cleartype|prevNextEvent|browser|complete|oneTimeFx|fastOnEvent|setTimeout|transition|position|rev|stop|eq|animate|destroy|nowrap|margin|pagerEvent|slideshow|easeIn|stopCount|click|found|sync|terminating|apply|attr|easeOut|auto|bind|show|requeueAttempts|slideResize|console|250||slide|activePagerClass|slideExpr||unshift|sort||background|paused|easing|autostop|timeoutFn|constructor|manualTrump|center|color|pause|lastSlide|unbind|createPagerAnchor|options|bounce|cleartypeNoBg|custom|hover|end|typeof|autostopCount|countdown|msie|can|onPrevNextEvent|children|skipInitializationCallbacks|absolute|jQuery|selector|defaults|hopsFromLast|delay|appendTo|zoom|log|requeueOnImageNotLoaded|style|onPagerEvent|String|hasOwnProperty|offsetWidth|visible|isReady|while|metaAttr|match|resumed|active|containerResize|down|call|filter|allowPagerClickBubble|resume|indexOf||img|shift|DOM|unknown|metadata|fade|ready|resetState|offsetHeight|direction|src|pauseOnPagerHover|in|speedAdjusted|tx|right|requeueTimeout|up|splice|onAddSlide|randomizeEffects|floor|9999|ignored|removeClass|get|replace|static|activeSlide|arguments|speeds|remove|applying|first|randomized|innerHeight|fadeZoom|debug|100|try|body|too|split|startSlide|scrollHorz|queuing|500|meta|rgb|switch|go|outerHeight|uncover|window|opera|invalid|prevNextClick|few|named|relative|scrollUp|context|could|removeAttribute|hack|toggle|prependTo|outerWidth|growY|Array|mozilla|Number|mouseenter|slides|No|is|zero|requeuing|catch|number|removeData|request|string|r2l|join|default|addClass|expr|advance|4000|prototype|of|by|clearType|sequence|blindX|preventDefault|discarding|slideY|loaded|ffffff|ignoring|wipe|el|all|scrollDown|determine|toString|addSlide|cover|mouseover|valid|pop|image|ver|firing|t2b|size|calculated|stopping|1000|new|blindY|clone|scrollVert|transparent|toss|returned|scrollLeft|nodeName|curtainX|pagerClick|turnUp|undefined|href|fadeout|toLowerCase|blindZ|append|slideX|html|l2r|parents|scrollRight|parentNode|curtainY|turnDown|b2t|turnLeft|growX|turnRight'.split('|'),0,{}))

//jQuery placeholder
eval(function(p,a,c,k,e,r){e=function(c){return c.toString(a)};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(4(b){7 a=("2"k l.m("n"));b.o.2=4(c){5(!a){5(c){p(c){q"r":1.f(4(){7 d=b(1);5(d.6("8")||d.3()==d.9("2")){d.3("")}});s}g 1}1.f(4(){5(!b(1).6("h")){b(1).t(4(){7 d=b(1);5(d.6("8")){d.3("").u("2")}}).v(4(){7 d=b(1);5(d.6("8")||!d.3().e){d.3(d.9("2")).i("2")}}).w(4(){7 d=b(1);d.6("8",(d.3().e==0))}).6("h",j);5(!b(1).3().e||b(1).3()==b(1).9("2")){b(1).3(b(1).9("2")).i("2").6("8",j)}}})}g 1}})(x);',34,34,'|this|placeholder|val|function|if|data|var|isEmpty|attr|||||length|each|return|gotPlaceholder|addClass|true|in|document|createElement|input|fn|switch|case|clear|break|focus|removeClass|blur|keyup|jQuery'.split('|'),0,{}))

jQuery(document).ready(function(){

	//Placeholder
	$('[placeholder]').placeholder();

	//Открытие и закрытие списков на странице INDEX
	$(".cat-nav li .trigger").click(function() {
		var clicked = $(this).find('a').attr('href');
		
		if($(this).hasClass("inAct")){
			$(this).parents(".main_prog_wrapper").find(".sub-cat "+clicked+"").slideToggle(300);
			$(this).toggleClass("current");
			
			var visibleListWrap = $(".list_wrapper:visible").length;
			
			if (visibleListWrap == 1){
				$("#popular_prog").removeClass("show");
				$('.cat-nav li .trigger').removeClass('inAct');
			}
		}
		else {
			if(!$(this).hasClass("current")){
				$(this).parents("li").siblings().find(".current").removeClass("current");
				$(this).addClass("current");
				$(this).parents(".main_prog_wrapper").find(".sub-cat .list_wrapper").slideUp(300);
				$(this).parents(".main_prog_wrapper").find(".sub-cat "+clicked+"").slideToggle(300);
			}
			else {
				$(this).removeClass("current");
				$(this).parents(".main_prog_wrapper").find(".sub-cat .list_wrapper").slideUp(300);
			}
		}
		
	});
	
	//Закрыть списки через крестик и минус на странице INDEX
	$(".sub-cat .list_wrapper .spoiler_minus, .sub-cat .list_wrapper .spoiler_close").click(function() {
		var parentId = $(this).parents('.list_wrapper').attr('id');
		$(this).parents(".main_prog_wrapper").find(".cat-nav .trigger a[href*="+parentId+"]").parent().removeClass("current");
		$(this).parents(".list_wrapper").slideUp(300);
		
		var visibleListWrap = $(".list_wrapper:visible").length;
		
		if (visibleListWrap == 1){
			$("#popular_prog").removeClass("show");
			$('.cat-nav li .trigger').removeClass('inAct');
		}
	});
	
	//Открыть или закрыть все списки на странице INDEX
	$('#popular_prog').click(function(){
	if (
		$(this).hasClass('show')){
	 	$(this).removeClass('show');
		$('.cat-nav li .trigger').removeClass('current inAct');
		$('.sub-cat .list_wrapper').slideUp();
	} else {
			$(this).addClass('show');
			$('.cat-nav li .trigger').addClass('current inAct');
			$('.sub-cat .list_wrapper').slideDown();
		}
	});
	
	
	//Меню спойлер
	$('#menu > li > .menu_spoiler').click(function(){
	if (
		$(this).closest('li').hasClass('active')){
		$(this).closest('li').removeClass('active').find('ul').slideUp(300);
	} else {
		$(this).closest('li').addClass('active').find('ul').slideDown(300);
		}
	});
	

})

function commentsAnswer(id){
    jQuery("#commentForm").find("input:hidden").val(id);
    location.href=  '#commentForm';
}

function getSelText()
{
    var txt = '';
     if (window.getSelection)
    {
        txt = window.getSelection();
             }
    else if (document.getSelection)
    {
        txt = document.getSelection();
            }
    else if (document.selection)
    {
        txt = document.selection.createRange().text;
    }
    else return;
    return txt;
}

 //additional properties for jQuery object
jQuery(document).ready(function(){
   //align element in the middle of the screen
   jQuery.fn.alignCenter = function() {
      //get margin left
      var marginLeft =  - jQuery(this).width()/2 + 'px';
      //get margin top
      var marginTop =  - jQuery(this).height()/2 + 'px';
      //return updated element
      return jQuery(this).css({'margin-left':marginLeft, 'margin-top':marginTop});
   };

   jQuery.fn.togglePopup = function(){
     //detect whether popup is visible or not
     //if(jQuery('#popup').hasClass("hidden"))
     if(jQuery('#popup').hasClass("hidden"))
     {
       //hidden - then display
       //when IE - fade immediately
       if(jQuery.browser.msie)
       {
         jQuery('#opaco').height(jQuery(document).height()).toggleClass('hidden')
                    .click(function(){jQuery(this).togglePopup();});
       }
       else
       //in all the rest browsers - fade slowly
       {
         jQuery('#opaco').height(jQuery(document).height()).toggleClass('hidden').fadeTo('slow', 0.6)
                    .click(function(){jQuery(this).togglePopup();});
       }

       jQuery('#popup')
         .html($(this).html())
         .alignCenter()
         .toggleClass('hidden');
         jQuery('#frame').attr("height", 1);
     }
     else
     {
          jQuery('#frame').attr("height", 600);
       //visible - then hide
       jQuery('#opaco').toggleClass('hidden').removeAttr('style').unbind('click');
       jQuery('#popup').toggleClass('hidden');
     }
   };
});

function showPopupNotice(){
     var  text = new String(getSelText());

     if(text.length > 400){
         alert ("Выделено слишком много текста");
         return false;
     }
     jQuery('#popup').togglePopup();
     jQuery('#textValue').val(text);
     jQuery('#linkValue').val(location.href);
     jQuery('#error-text').text(jQuery('#textValue').val());
}
var sendMessage = function(successText){
          jQuery.ajax({
              type: 'POST',
              url: jQuery("#bug").attr('action'),
              dataType: 'html',
              global: false,
              data: jQuery("#bug").serializeArray(),
              success : function(data) {
                  alert(successText);
              }
            });
    jQuery('#popup').togglePopup();
}

var DownloadStatistic = function(url){
          jQuery.ajax({
              type: 'POST',
              url: url,
              dataType: 'html',
              global: false,
              data: ({action : 'downloadstat'}),
              success : function(data) {
                  
              }
            });
    
}
var subscribeNotification = function (url, elem){

    jQuery.ajax({
              type: 'POST',
              url: url,
              dataType: 'html',
              global: false,
              data: ({action : 'subscribe',subscribe : jQuery(elem).prop("checked")}),
              success : function(data) {
                alert(data);
              }
            });
			
}

var errorDownloadLink = function (url){
     jQuery.ajax({
              type: 'POST',
              url: url,
              dataType: 'html',
              global: false,
              data: ({action : 'errorLink', link : url})
            });
}

/* Рейтинг заметок в виде звезд biznesguide.ru/coding/156.html */
 
;(function($){
	
	
	$.rating = function(e, o){
		
		this.options = $.extend({
		    fx: 'float',
            image: '/images/stars.png',
			stars: 5,
            minimal: 0,
			titles: ['голос','голоса','голосов'],
			readOnly: false,
			url: '',
            type: 'post',
            loader: '/images/ajax-loader.gif',			
			click: function(){},
            callback: function(){}
		}, o || {});
		
		this.el = $(e);
        this.left = 0;
        this.width = 0;
        this.height = 0;
        this._data = {};
        
        var self = this;
        
        this.el.find(':hidden').each(function(){
            
            var $this = $(this);
            self._data[$this.attr('name')] = $this.val();
            
        });
        
        this._data.val = parseFloat(this._data.val) || 0;
        this._data.votes = parseFloat(this._data.votes) || '';

        
        if(this._data.val > this.options.stars) this._data.val = this.options.stars;
        if(this._data.val < 0) this._data.val = 0;
        
        this.old = this._data.val;

		this.vote_wrap = $('<div class="vote-wrap"></div>');
		this.vote_block = $('<div class="vote-block"></div>');
        this.vote_hover = $('<div class="vote-hover"></div>');
		this.vote_stars = $('<div class="vote-stars"></div>');
		this.vote_active = $('<div class="vote-active"></div>');
		this.vote_result = $('<div class="vote-result"></div>');
		this.vote_success = $('<div class="vote-success"></div>');
        this.loader = $('<img src="'+this.options.loader+'" alt="load...">');

        this.el.html(this.loader);

        //Загружаем изображение звезд и высчитываем ширину и высоту одной звезды
        var img = new Image();
        img.src = this.options.image;
        img.onload = function() {
            self.width = this.width; //Ширина одной звезды
            self.height = this.height/3; //Высота одной звезды
            self.init();
        };
		
	};
	
	
	var $r = $.rating;

	$r.fn = $r.prototype = {
		rating: '2.0'
    };
	
	$r.fn.extend = $r.extend = $.extend;

    $r.fn.extend({
        
    	init: function(){
    	
    		this.render();

    		if(this.options.readOnly) return;

    		var self = this, left = 0, width = 0;

    		this.vote_hover.bind('mousemove mouseover',function(e){

    			if(self.options.readOnly) return;

    			var $this = $(this),
    		    	score = 0;
                    
                left = e.clientX>0 ? e.clientX: e.pageX;
                width = left - $this.offset().left - 2;
                 
                var max = self.width*self.options.stars,
                    min = self.options.minimal*self.width;

                if(width > max) width = max;
                if(width < min) width = min;   
           
                score = Math.round( width/self.width * 10 ) / 10; //округляем до 1 знака после запятой
           
                if(self.options.fx == 'half'){
                    width = Math.ceil(width/self.width*2)*self.width/2;          
                }
                else if(self.options.fx != 'float'){                    
                    width = Math.ceil(width/self.width) * self.width;  
                }
                
                score = Math.round( width/self.width * 10 ) / 10; 

                self.vote_active.css({
    				'width':width,
    				'background-position':'left center'
    			});
                
                self.vote_success.html('Ваша оценка: '+score);
    		    
    		 })
    		 .bind('mouseout',function(){
    			if(self.options.readOnly) return; 
    			self.reset();
                self.vote_success.empty();
    		 }).
    		 bind('click.rating',function(){
    		
    			 if(self.options.readOnly) return;
          
                 var score = Math.round( width/self.width * 10 ) / 10; 

                 if(score > self.options.stars) score = self.options.stars;
                 if(score < 0) score = 0;
                 
                 self.old = self._data.val;
    			 self._data.val = (self._data.val*self._data.votes +score)/(self._data.votes + 1);
                 self._data.val = Math.round( self._data.val * 100 ) / 100;
                 self._data.score = score;
                 self.vote_success.html('Ваша оценка: '+score);
    			 
                 if(self.options.url != ''){
    				 
    				 self.send();
    			 }
                 
                 self.options.readOnly = true;        
    			 self.options.click.apply(this,[score]);
    		 });
    		
    	},
        set: function(){
    		this.vote_active.css({
    			'width':this._data.val*this.width,
    			'background-position':'left bottom'
    		});
    	},
    	reset: function(){
    		this.vote_active.css({
    			'width':this.old*this.width,
    			'background-position':'left bottom'
    		});
    	},
        setvoters: function(){
            this.vote_result.html(this.declOfNum(this._data.votes,this._data.val));   // вивід текстових даних після голосування
        },
    	render: function(){
    		
    		this.el.html(this.vote_wrap.append(
				this.vote_hover.css({
				    padding:'0 4px',
                    height:this.height,
                    width:this.width*this.options.stars
                }),
				this.vote_result.text(this.declOfNum(this._data.votes,this._data.val)), // вивід текстових даних до голосування
				this.vote_success
    		));

    		
            this.vote_block.append(
				this.vote_stars.css({
				    height:this.height,
                    width:this.width*this.options.stars,
                    background:"url('"+this.options.image+"') left top"
                }),
				this.vote_active.css({
				    height:this.height,
                    width:this._data.val*this.width,
                    background:"url('"+this.options.image+"') left bottom"
                })
            ).appendTo(this.vote_hover);
    		
    	},
    	send: function(score){
    		
    		var self = this;
            this.vote_result.html(this.loader);
            
            this._data.votes++;
            
    		$.ajax({
    			url: self.options.url,
    			type: self.options.type,
    			data: this._data,
                dataType: 'json',
    			success: function(data){
		            if(data.status == 'OK') {
		               
		              self.set();
		            }  
                    else{
                        self._data.votes--;
                        self.reset();
						self._data.val = self.old;
                    }      
                    
                    self.setvoters();
                       
    				if(data.msg)self.vote_success.html(data.msg);
                    
                    if(typeof self.options.callback == 'function'){
                        
                        self.options.callback.apply(self,[data]);
                    }
    			}
    		});
    		
    	},
    	declOfNum: function(number,score){  
    	    if(number <= 0) return '';
    		number = Math.abs(Math.floor(number));
			score = Math.abs(Math.round(score * 100 ) / 100);
            cases = [2, 0, 1, 1, 1, 2];  
            return 'Рейтинг: '+score+'. Голосов: '+number+'.';  
        }  
    });
    
    
    $.fn.rating = function(o){
    	
    	if (typeof o == 'string') {
            var instance = $(this).data('rating'), args = Array.prototype.slice.call(arguments, 1);
            return instance[o].apply(instance, args);
        } else {
            return this.each(function() {
                var instance = $(this).data('rating');
                if (instance) {
                    if (o) {
                        $.extend(instance.options, o);
                    }
                    
                    instance.init();
                    
                } else {
                	
                    $(this).data('rating', new $r(this, o));
                }
            });
        }
    }; 
	
})(jQuery);